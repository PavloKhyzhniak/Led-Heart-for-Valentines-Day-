;************************************
;** Файл организациии задержек программным способом
;**
;**
;************************************

;Формула данной задержки
;(3*R20+5)*R19+10
; R20=165
; r19 =0 128010 тактов
; r19 =1 510 тактов
; r19 =2 1010 татов
Delay:
	push r20
loop0:
	ldi r20,0xA5
loop1:
	dec r20
	brne loop1
	nop
	nop
	dec r19
	brne loop0

	pop r20
	ret

;************************************
;Небольшая задержка в 500 тактов
;Формула 12+4*R16
;При 122 задержка в 500 тактов что соответствует 0,5мсек при 1Мгц
DelaySmall:
		push r16
		ldi r16, 122
delay_loop:
		nop
		dec r16
		brne delay_loop
		nop
		pop r16
		ret
;************************************
;формула данной подпрограммы задержки
;((3*R20+3)*R21+4)*R22+20)
;
; пару примеров
;	для 1000000 тактов   100 165  20
;	для 2000000 тактов	  45 161  90	
;	для  500000 тактов	 223 248   3
;	для 6000000 тактов	 135 173  85
;	для 8000000 тактов	  95 224 124
DelayLong:
	push r20
	push r21
	push r22

	ldi r22, 20
loopL2:
	ldi r21, 165
loopL1:
	ldi r20,100
loopL0:
	dec r20
	brne loopL0
	dec r21
	brne LoopL1
	nop
	dec r22
	brne LoopL2

	nop
	pop r22
	pop r21
	pop r20
	ret
